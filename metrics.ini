[Common]
InitialScreen="ScreenInit"


[SongManager]
NumSongGroupColors=12
SongGroupColor1=GetHexColor(1)
SongGroupColor2=GetHexColor(2)
SongGroupColor3=GetHexColor(3)
SongGroupColor4=GetHexColor(4)
SongGroupColor5=GetHexColor(5)
SongGroupColor6=GetHexColor(6)
SongGroupColor7=GetHexColor(7)
SongGroupColor8=GetHexColor(8)
SongGroupColor9=GetHexColor(9)
SongGroupColor10=GetHexColor(10)
SongGroupColor11=GetHexColor(11)
SongGroupColor12=GetHexColor(12)

NumCourseGroupColors=12
CourseGroupColor1=GetHexColor(1)
CourseGroupColor2=GetHexColor(2)
CourseGroupColor3=GetHexColor(3)
CourseGroupColor4=GetHexColor(4)
CourseGroupColor5=GetHexColor(5)
CourseGroupColor6=GetHexColor(6)
CourseGroupColor7=GetHexColor(7)
CourseGroupColor8=GetHexColor(8)
CourseGroupColor9=GetHexColor(9)
CourseGroupColor10=GetHexColor(10)
CourseGroupColor11=GetHexColor(11)
CourseGroupColor12=GetHexColor(12)

# not sure what this does
# but certain song displayTitles in the MusicWheel
# disappear without it...
ExtraColorMeter=999999 


# # Interestingly, changes applied to [UnlockManager] while SM is running
# # don't seem to get picked up when metrics are refreshed via F2
# # so, make sure things are the way you want them to be (or restart Stepmania)
# [UnlockManager]
# # determine if songs loaded via AdditionalSongs should be locked.
# SongsNotAdditional=false
# 
# # codes NEED to all be unique; duplicate codes will cause SM to crash
# UnlockNames="1,2,3"
# Unlock1Command=song,"dbk5/Applause";code,"blah";
# Unlock2Command=song,"dbk5/I Need Your Love";code,"blahblah";
# Unlock3Command=song,"dbk5/Killin It - Mutrix Remix";code,"blahblahblah";



[Profile]
ShowCoinData=true
UnlockAuthString=""
CustomLoadFunction=LoadProfileCustom
CustomSaveFunction=SaveProfileCustom


[ScreenInit]
NextScreen="ScreenSimplyLove"
AllowStartToSkip=false
PrepareScreen=true
TimerSeconds=5
StopMusicOnBack=false
ShowCoinsAndCredits=false



[ScreenSimplyLove]
Class="ScreenAttract"
Fallback="ScreenAttract"
PrevScreen="ScreenInit"
NextScreen="ScreenRanking"
StartScreen="ScreenTitleMenu"
ShowCoinsAndCredits=false
ForceTimer=true
TimerSeconds=14
TimerOnCommand=visible,false


# this is for when we are in Home mode
[ScreenTitleMenu]
PrevScreen="ScreenInit"
ShowCoinsAndCredits=true
IdleTimeoutSeconds=35
IdleTimeoutScreen="ScreenInit"

ChoiceNames="1,2,3,4"
DefaultChoice="1"
Choice1="applydefaultoptions;screen,ScreenSelectColor;text,Dance Mode"
Choice2="screen,ScreenEditMenu;text,Edit Mode"
Choice3="screen,ScreenOptionsService;text,Options"
Choice4="screen,ScreenExit;text,Exit"

ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y+SCREEN_HEIGHT/3.5
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(22*offset) end



# this is for when we are in Free/Pay mode
[ScreenTitleJoin]
Fallback="ScreenTitleMenu"
ChoiceNames="1"
DefaultChoice="1"
Choice1="applydefaultoptions;screen,ScreenSelectColor;text,Dance Mode"
Choice2="lua,function() SCREENMAN:SetNewScreen('ScreenUnlock') end;text,Enter Unlock Code"




[ScreenUnlock]
Class="ScreenTextEntry"
Fallback="ScreenTextEntry"
PrevScreen="ScreenTitleJoin"
NextScreen=getenv("ScreenUnlock")

QuestionY=SCREEN_CENTER_Y-50
QuestionOnCommand=shadowlength,1;shadowcolor,color("0,0,0,0.45");wrapwidthpixels,SCREEN_WIDTH*0.925;strokecolor,color("0,0,0,0")



[ScreenUnlockSuccess]
Fallback="ScreenPrompt"
PrevScreen="ScreenTitleJoin"
NextScreen="ScreenTitleJoin"
HeaderOnCommand=visible,false



[ScreenUnlockFailure]
Fallback="ScreenPrompt"
PrevScreen="ScreenTitleJoin"
NextScreen="ScreenTitleJoin"
HeaderOnCommand=visible,false



###########################################################################
###  Colored hearts, sir.  Colored hearts as far as the eye can see.	###
###########################################################################
[ScreenSelectColor]
PrevScreen=Branch.TitleMenu()
NextScreen="ScreenSelectPlayMode"
Class="ScreenSelectMaster"
Fallback="ScreenSelectStyle"

ChoiceNames="01,02,03,04,05,06,07,08,09,10,11,12"
Choice01="lua,function(pn) SetSimplyLoveColor(1)  end; screen,ScreenSelectPlayMode"
Choice02="lua,function(pn) SetSimplyLoveColor(2)  end; screen,ScreenSelectPlayMode"
Choice03="lua,function(pn) SetSimplyLoveColor(3)  end; screen,ScreenSelectPlayMode"
Choice04="lua,function(pn) SetSimplyLoveColor(4)  end; screen,ScreenSelectPlayMode"
Choice05="lua,function(pn) SetSimplyLoveColor(5)  end; screen,ScreenSelectPlayMode"
Choice06="lua,function(pn) SetSimplyLoveColor(6)  end; screen,ScreenSelectPlayMode"
Choice07="lua,function(pn) SetSimplyLoveColor(7)  end; screen,ScreenSelectPlayMode"
Choice08="lua,function(pn) SetSimplyLoveColor(8)  end; screen,ScreenSelectPlayMode"
Choice09="lua,function(pn) SetSimplyLoveColor(9)  end; screen,ScreenSelectPlayMode"
Choice10="lua,function(pn) SetSimplyLoveColor(10) end; screen,ScreenSelectPlayMode"
Choice11="lua,function(pn) SetSimplyLoveColor(11) end; screen,ScreenSelectPlayMode"
Choice12="lua,function(pn) SetSimplyLoveColor(12) end; screen,ScreenSelectPlayMode"
DefaultChoice=DefaultColor()


UseIconMetrics=false
PerChoiceScrollElement=false
ShowIcon=false

ShowScroller=true
WrapScroller=true
LoopScroller=true
WrapCursor=true
AllowRepeatingInput=false

ScrollerOnCommand=SetDrawByZPosition, true;
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) \
	n = 80; \
	x = n*offset; \
	if x > 6*n then \
		x = x-12*n; \
	elseif x < -6*n then \
		x = x+12*n; \
	end; \
	s = scale(math.abs(x),0,4*n,3,-1); \
	z = clamp(s,1,3); \
	z = scale(z,1,3,1,1.5); \
	s = clamp(s,0,3); \
	self:x(x); \
	self:diffuse(GetHexColor(math.abs(itemIndex+13)%12+1)); \
	self:zoom(z/6) \
	if IsUsingWideScreen() then \
		self:diffusealpha(clamp(5-math.abs(offset), 0, 1)); \
		self:zoom(math.pow(math.abs(math.cos(offset*math.pi)*math.cos(math.pow(math.abs(offset),.5)*math.pi/6)/2),2)); \
		self:rotationz(offset*15); \
		self:y(10*math.pow(offset,2)-40); \
  	end \
	self:z(-1*math.abs(x/n)); \
end

ScrollerX=SCREEN_CENTER_X

NumChoicesOnPage1=12
ScrollerSecondsPerItem=0.14
ScrollerNumItemsToDraw=SelectColorScrollerItems()







[ScreenRanking]
Class="ScreenHighScores"
Fallback="ScreenAttract"
PrevScreen="ScreenSimplyLove"
NextScreen="ScreenRanking2"
StartScreen="ScreenTitleMenu"
NoScoreName="-----"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=2
ColumnDifficulty1="Difficulty_Hard"
ColumnDifficulty2="Difficulty_Challenge"
ColumnStepsType1="StepsType_Dance_Single"
ColumnStepsType2="StepsType_Dance_Single"

MaxItemsToShow=30

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+20;scrollthroughallitems
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset) end
ScrollerItemsToDraw=7
ScrollerSecondsPerItem=0.5


[ScreenRanking2]
Class="ScreenHighScores"
Fallback="ScreenRanking"
PrevScreen="ScreenSimplyLove"
NextScreen="ScreenMemoryCard"
StartScreen="ScreenTitleMenu"
MaxItemsToShow=15

NumMostRecentScoresToShow=15
ShowStepsScores=false
ShowNonstopCourseScores=true
HeaderOffCommand=linear,0.2;diffusealpha,0


[ScreenMemoryCard]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen="ScreenRainbow"
PrevScreen="ScreenRainbow"
ForceTimer=true
TimerSeconds=10
ShowCoinsAndCredits=false
HeaderOnCommand=visible,false
TimerOnCommand=visible,false


[ScreenRainbow]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen="ScreenSimplyLove"
PrevScreen="ScreenSimplyLove"
ForceTimer=true
TimerSeconds=10
ShowCoinsAndCredits=false
HeaderOnCommand=visible,false
TimerOnCommand=visible,false



[ScreenDebugOverlay]
HeaderTextX=SCREEN_LEFT+100
HeaderTextY=SCREEN_TOP+18
HeaderTextOnCommand=diffusebottomedge,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,0.5")
HeaderTextOffCommand=

LineOnColor=color("1,1,1,1")
LineOffColor=color("0.6,0.6,0.6,1")
LineStartY=SCREEN_TOP+50
LineSpacing=16
LineButtonX=SCREEN_CENTER_X-50
LineFunctionX=SCREEN_CENTER_X-30






[ScreenStatsOverlay]
StatsX=SCREEN_RIGHT-16
StatsY=SCREEN_TOP+16
StatsOnCommand=halign,1;valign,0;diffuse,color("#000000");shadowlength,1;shadowcolor,color("#FFFFFF")
ShowSkips=true
SkipX=SCREEN_RIGHT-100
SkipY=SCREEN_BOTTOM-100
SkipWidth=190
SkipSpacingY=14






[Gameplay]
MinScoreToMaintainCombo=GetComboThreshold()['Maintain']
MinScoreToContinueCombo=GetComboThreshold()['Continue']





[PlayerStageStats]
# copied directly from freem's ITG3 port
NumGradeTiersUsed=17
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=false
# quad star
GradePercentTier01=1.00
# triple star
GradePercentTier02=0.99
# double star
GradePercentTier03=0.98
# single star
GradePercentTier04=0.96
# S+
GradePercentTier05=0.94
# S
GradePercentTier06=0.92
# S-
GradePercentTier07=0.89
# A+
GradePercentTier08=0.86
# A
GradePercentTier09=0.83
# A-
GradePercentTier10=0.80
# B+
GradePercentTier11=0.76
# B
GradePercentTier12=0.72
# B-
GradePercentTier13=0.68
# C+
GradePercentTier14=0.64
# C
GradePercentTier15=0.60
# C-
GradePercentTier16=0.55
# D
GradePercentTier17=-1000


[GameState]
# free(m) reign
LockExtraStageSelection=false



[MenuTimer]
FrameOnCommand=visible,false;

Warning6Command=stoptweening;sleep,0.8;linear,0.2;glow,1,1,1,1;
Warning5Command=stoptweening;linear,0.2;glow,1,1,1,0;diffuseshift;effectperiod,1;effectcolor1,HSVA(0,0,1,0.5);effectcolor2,HSVA(0,1,1,0.9)
Warning4Command=stoptweening;linear,0.2;
Warning3Command=stoptweening;linear,0.2;
Warning2Command=stoptweening;linear,0.2;
Warning1Command=stoptweening;linear,0.2;
Warning0Command=stoptweening;stopeffect;linear,0.2;zoomx,1
WarningBeepStart=8
Text1OnCommand=stopeffect;stoptweening;shadowlength,0;y,16;zoom,0.5
Text2OnCommand=visible,false;





[HelpDisplay]
TipShowTime=3.5
TipOnCommand=shadowlength,1;diffuseshift;effectperiod,1.25;




[Player]
# apparently the default values cause StepMania to have arrows pop in.
DrawDistanceBeforeTargetsPixels=SCREEN_HEIGHT
DrawDistanceAfterTargetsPixels=-60
ReceptorArrowsYStandard=-125
ReceptorArrowsYReverse=145
PenalizeTapScoreNone=false
PercentUntilColorCombo=0.20
ComboUnderField=true








## Screen progeny ##############################################################
[Screen]
StyleIcon=false
ShowCoinsAndCredits=false
ShowHelp=true



[ScreenWithMenuElements]
TimerX=SCREEN_WIDTH-30
TimerOnCommand=hide_if,not PREFSMAN:GetPreference("MenuTimer");draworder,99;

HeaderX=SCREEN_LEFT
HeaderY=SCREEN_TOP+16
HeaderOnCommand=draworder,95;valign,0
HeaderOffCommand=

ShowFooter=false
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM-16
FooterOnCommand=draworder,95;valign,1
FooterOffCommand=

HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-18
HelpOnCommand=draworder,97;zoom,0.6;
HelpOffCommand=accelerate,0.25;addy,100
HelpText=ScreenString("HelpText");

MemoryCardIcons=true

MemoryCardDisplayP1X=27;
MemoryCardDisplayP1Y=SCREEN_CENTER_Y+224
MemoryCardDisplayP1OnCommand=draworder,96;zoom,1.25
MemoryCardDisplayP1OffCommand=

MemoryCardDisplayP2X=SCREEN_RIGHT-27
MemoryCardDisplayP2Y=SCREEN_CENTER_Y+224
MemoryCardDisplayP2OnCommand=draworder,96;zoom,1.25
MemoryCardDisplayP2OffCommand=

ShowCoinsAndCredits=true





# everything below this line derives from ScreenWithMenuElements in some way #
# (until the next section break, of course.)
[ScreenSelect]
DoublePressToSelect=false
UseTwoLists=false
OptionOrderBUp=""
OptionOrderBDown=""
OptionOrderBLeft=""
OptionOrderBRight=""
OptionOrderBAuto=""

# SWME -> ScreenSelect -> SSM
[ScreenSelectMaster]
Fallback="ScreenWithMenuElements"

TimerSeconds=-1
StopMusicOnBack=false
HelpText=ScreenString("HelpText")






[ScreenNameEntryTraditional]
Class="ScreenNameEntryTraditional"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenProfileSaveSummary"
CancelTransitionsOut=true
TimerSeconds=90
ForceTimer=false
ForceTimerWait=true

MaxRankingNameLength=4
CodeNames=NameEntryTraditionalCodes()
CodeMenuLeft="MenuLeft"
CodeMenuRight="MenuRight"
CodeLeft="Left"
CodeRight="Right"
CodeBackspace="Select"
CodeEnter="Start"




## Options Section #############################################################
### Options Elements ###
#### OptionsCursor ####
[OptionsCursor]
CanGoLeftX=-17
CanGoLeftY=0
CanGoLeftOnCommand=halign,1;

CanGoRightX=16
CanGoRightY=0
CanGoRightOnCommand=halign,0;

[OptionsCursorP1]
Fallback="OptionsCursor"
LeftOnCommand=diffuse,PlayerColor(PLAYER_1)
MiddleOnCommand=diffuse,PlayerColor(PLAYER_1)
RightOnCommand=diffuse,PlayerColor(PLAYER_1)

LeftX=0
MiddleX=0
RightX=0

LeftY=-1
MiddleY=-1
RightY=-1

[OptionsCursorP2]
Fallback="OptionsCursor"
LeftOnCommand=diffuse,PlayerColor(PLAYER_2)
MiddleOnCommand=diffuse,PlayerColor(PLAYER_2)
RightOnCommand=diffuse,PlayerColor(PLAYER_2)

LeftX=0
MiddleX=0
RightX=0

LeftY=1
MiddleY=1
RightY=1
#### end OptionsCursor ####

[OptionsUnderline]

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftOnCommand=diffuse,PlayerColor(PLAYER_1)
MiddleOnCommand=diffuse,PlayerColor(PLAYER_1)
RightOnCommand=diffuse,PlayerColor(PLAYER_1)

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftOnCommand=diffuse,PlayerColor(PLAYER_2)
MiddleOnCommand=diffuse,PlayerColor(PLAYER_2)
RightOnCommand=diffuse,PlayerColor(PLAYER_2)












#### OptionRow #############################################################
[OptionRow]
ShowBpmInSpeedTitle=true

TitleX=WideScale(SCREEN_LEFT+40,SCREEN_LEFT+48)
TitleOnCommand=zoom,0.8;halign,0;NoStroke
TitleGainFocusCommand=%function(self)\
	self:diffuse(PlayerColor(PLAYER_1)); \
	MESSAGEMAN:Broadcast("OptionRowChanged", {Title=self}); \
end
TitleLoseFocusCommand=diffuse,color("#FFFFFF")

FrameX=SCREEN_CENTER_X-WideScale(30,40)
FrameY=0
FrameOnCommand=diffusealpha,0.7
FrameGainFocusCommand=diffuse,color("#293238");diffusealpha,0.8
FrameLoseFocusCommand=diffuse,color("#071016");diffusealpha,0.8

ItemsStartX=WideScale(SCREEN_LEFT+150,SCREEN_LEFT+170)
ItemsEndX=SCREEN_WIDTH-250
ItemsLongRowP1X=WideScale(SCREEN_CENTER_X-100,SCREEN_CENTER_X-130)
ItemsLongRowP2X=WideScale(SCREEN_CENTER_X+100,SCREEN_CENTER_X+100)

ItemOnCommand=zoom,0.75;
ItemGainFocusCommand=
ItemLoseFocusCommand=



[OptionRowSimple]
Fallback="OptionRow"


[OptionRowExit]
Fallback="OptionRow"
FrameOnCommand=diffusealpha,0.7
FrameGainFocusCommand=diffuse,color("#293238");diffusealpha,0.8
FrameLoseFocusCommand=diffuse,color("#071016");diffusealpha,0.8
TitleGainFocusCommand=diffuse,color("#000000")
ItemOnCommand=zoom,0.8


[OptionRowSimpleExit]
Fallback="OptionRow"
FrameGainFocusCommand=diffuse,PlayerColor(PLAYER_1);diffusealpha,1
TitleGainFocusCommand=diffuse,color("#000000")
ItemOnCommand=visible,false


[OptionRowEditCourse]
Fallback="OptionRowSimple"
TitleX=SCREEN_CENTER_X*0.125
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowCourseOverview]
Fallback="OptionRowSimple"
TitleX=SCREEN_CENTER_X*0.125
ItemsLongRowSharedX=SCREEN_CENTER_X*0.4
#### end OptionRow #############################################################






### Options Screens ###
[ScreenOptionsMaster]
# this currently overrides people who edit the metrics in the default theme.
# there really isn't much recourse for this save for making the options
# cherry-pickable via a Lua menu.

# list-based Mini is only used in [ScreenEditOptions]
Mini="11;selectone"
MiniDefault="mod,no mini"
Mini,1="mod,no mini;name,NoMini"
Mini,2="mod,10% mini;name,10% Mini"
Mini,3="mod,20% mini;name,20% Mini"
Mini,4="mod,30% mini;name,30% Mini"
Mini,5="mod,40% mini;name,40% Mini"
Mini,6="mod,50% mini;name,50% Mini"
Mini,7="mod,60% mini;name,60% Mini"
Mini,8="mod,70% mini;name,70% Mini"
Mini,9="mod,80% mini;name,80% Mini"
Mini,10="mod,90% mini;name,90% Mini"
Mini,11="mod,98% mini;name,98% Mini"

Accel="5;selectmultiple"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang"
Accel,1="mod,boost;name,Boost"
Accel,2="mod,brake;name,Brake"
Accel,3="mod,wave;name,Wave"
Accel,4="mod,expand;name,Expand"
Accel,5="mod,boomerang;name,Boomerang"

Effect="10;selectmultiple"
EffectDefault="mod,no drunk,no dizzy,no confusion,no mini,no tiny,no flip,no invert,no tornado,no tipsy,no bumpy,no beat"
Effect,1="mod,drunk;name,Drunk"
Effect,2="mod,dizzy;name,Dizzy"
Effect,3="mod,confusion;name,Confusion"
Effect,4="mod,-100% mini;name,Big"
Effect,5="mod,flip;name,Flip"
Effect,6="mod,invert;name,Invert"
Effect,7="mod,tornado;name,Tornado"
Effect,8="mod,tipsy;name,Tipsy"
Effect,9="mod,bumpy;name,Bumpy"
Effect,10="mod,beat;name,Beat"

# XXX: what of hiddenoffset and suddenoffset?
Appearance="5;selectmultiple"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="mod,hidden;name,Hidden"
Appearance,2="mod,sudden;name,Sudden"
Appearance,3="mod,stealth;name,Stealth"
Appearance,4="mod,blink;name,Blink"
Appearance,5="mod,randomvanish;name,R.Vanish"

Turn="5;selectmultiple"
TurnDefault="mod,no turn"
Turn,1="mod,mirror;name,Mirror"
Turn,2="mod,left;name,Left"
Turn,3="mod,right;name,Right"
Turn,4="mod,shuffle;name,Shuffle"
Turn,5="mod,supershuffle;name,SuperShuffle"

Insert="7;selectmultiple"
InsertDefault="mod,no wide,no big,no quick,no skippy,no echo,no stomp,no bmrize"
Insert,1="mod,wide;name,Wide"
Insert,2="mod,big;name,Big"
Insert,3="mod,quick;name,Quick"
Insert,4="mod,bmrize;name,BMRize"
Insert,5="mod,skippy;name,Skippy"
Insert,6="mod,echo;name,Echo"
Insert,7="mod,stomp;name,Stomp"

Remove="4;selectmultiple"
RemoveDefault="mod,no little,no nojumps,no nohands,no noquads"
Remove,1="mod,little;name,Little"
Remove,2="mod,nojumps;name,NoJumps"
Remove,3="mod,nohands;name,NoHands"
Remove,4="mod,noquads;name,NoQuads"

Scroll="5;selectmultiple"
ScrollDefault="mod,no reverse,no split,no alternate,no cross,no centered"
Scroll,1="mod,reverse;name,Reverse"
Scroll,2="mod,split;name,Split"
Scroll,3="mod,alternate;name,Alternate"
Scroll,4="mod,cross;name,Cross"
Scroll,5="mod,centered;name,Centered"

Holds="3;selectmultiple"
HoldsDefault="mod,no noholds,no planted,no twister,no holdrolls"
Holds,1="mod,planted;name,Planted"
Holds,2="mod,twister;name,Twister"
Holds,3="mod,holdrolls;name,HoldRolls"

Mines="4"
MinesDefault="mod,no nomines,no mines,no attackmines"
Mines,1="mod,nomines;name,Off"
Mines,2="name,On"
Mines,3="mod,mines;name,Add"
Mines,4="mod,attackmines;name,AttackMines"

Hide="3;selectmultiple"
HideDefault="mod,no dark,no blind,no cover"
Hide,1="mod,dark;name,Dark"
Hide,2="mod,blind;name,Blind"
Hide,3="mod,cover;name,Cover"

Rate="12;together"
RateDefault="mod,1.0xmusic;mod,no haste"
Rate,1="mod,0.9xmusic;name,0.9x"
Rate,2="mod,1.0xmusic;name,1.0x"
Rate,3="mod,1.1xmusic;name,1.1x"
Rate,4="mod,1.2xmusic;name,1.2x"
Rate,5="mod,1.3xmusic;name,1.3x"
Rate,6="mod,1.4xmusic;name,1.4x"
Rate,7="mod,1.5xmusic;name,1.5x"
Rate,8="mod,1.6xmusic;name,1.6x"
Rate,9="mod,1.7xmusic;name,1.7x"
Rate,10="mod,1.8xmusic;name,1.8x"
Rate,11="mod,1.9xmusic;name,1.9x"
Rate,12="mod,2.0xmusic;name,2.0x"


[ScreenPlayerOptions]
NextScreen=Branch.AfterScreenPlayerOptions()
TimerSeconds=90
TimerStealth=false
TimerX=SCREEN_WIDTH-30
TimerY=
TimerOnCommand=hide_if,not PREFSMAN:GetPreference("MenuTimer");draworder,99;
TimerOffCommand=
ForceTimer=false

OptionRowExitMetricsGroup="OptionRowExit"
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-170) + (31.75*positionIndex) ); end

RepeatRate=20
AllowRepeatingChangeValueInput=true
LineNames="SpeedType,Speed,NoteSkin,Mini,Judgment,Perspective,ScreenFilter,Rate,Difficulty,GoBack"

## Most Used ## 

LineSpeedType="lua,SpeedModsType()"
LineSpeed="lua,SpeedModsNew()"
LineNoteSkin="list,NoteSkins"
LineMini="lua,OptionRowPlayerMini()"
LineJudgment="lua,PlayerJudgment()"
LinePerspective="list,Persp"
LineScreenFilter="lua,OptionRowPlayerFilter()"
LineRate="list,Rate"
LineDifficulty="list,Steps"
LineGoBack="lua,ForwardOrBackward()"






[ScreenPlayerOptions2]
FallBack="ScreenPlayerOptions"
Class="ScreenPlayerOptions"
PrevScreen="ScreenPlayerOptions"
NextScreen=Branch.AfterScreenPlayerOptions2()

ShowHeader=true
ShowFooter=true
HeaderX=0
HeaderY=16
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_HEIGHT-16
FooterOnCommand=draworder,-1


NavigationMode="toggle"
InputMode="individual"
ForceAllPlayers=false
NumRowsShown=10
RowInitCommand=
RowOnCommand=draworder,-1
RowOffCommand=
ShowScrollBar=false
ScrollBarHeight=0
ScrollBarTime=0

LineHighlightX=SCREEN_CENTER_X
LineHighlightP1OnCommand=visible,false
LineHighlightP1OffCommand=
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=

LineHighlightP2OnCommand=visible,false
LineHighlightP2OffCommand=
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

ShowExitRow=true
SeparateExitRow=false
SeparateExitRowY=SCREEN_CENTER_Y+140

ShowExplanations=true

ExplanationP1X=SCREEN_LEFT+40
ExplanationP1Y=SCREEN_BOTTOM-65
ExplanationP1OnCommand=draworder,1;zoom,0.75;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_CENTER_X*1.5;halign,0;valign,0;cropright,1;linear,0.5;cropright,0
ExplanationP1OffCommand=

ExplanationP2X=SCREEN_RIGHT-160
ExplanationP2Y=SCREEN_BOTTOM-65
ExplanationP2OnCommand=draworder,1;zoom,0.75;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_CENTER_X*1.5;halign,1;valign,0;cropright,1;linear,0.5;cropright,0
ExplanationP2OffCommand=

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y+180
ExplanationTogetherOnCommand=shadowlength,0;zoom,0.75;wrapwidthpixels,(SCREEN_WIDTH*0.9375)*1.25;cropright,1;linear,0.5;cropright,0


ExplanationTogetherOffCommand=stoptweening
AllowRepeatingChangeValueInput=false
WrapValueInRow=true
CursorOnCommand=zoomx,1.25
CursorTweenSeconds=0.1

OptionRowNormalMetricsGroup="OptionRow"
OptionRowExitMetricsGroup="OptionRowExit"

RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-170) + (32*positionIndex) ); end
PlayMusic=false
MusicAlignBeat=true
DelayMusicSeconds=0
CancelTransitionsOut=false


ScreenOnCommand=%function(self) setenv("ScreenPlayerOptions2", false) end;
ContainerOnCommand=zoom,1.1
ShowCoinsAndCredits=false
StopMusicOnBack=false
WaitForChildrenBeforeTweeningOut=false

AllowOperatorMenuButton=false
HandleBackButton=true

RepeatRate=12
RepeatDelay=0.25
LightsMode="LightsMode_Demonstration"

CodeNames=
PrepareScreens=
GroupedScreens=
PersistScreens=
MemoryCardIcons=true

TimerSeconds=60
TimerMetricsGroup="MenuTimer"
TimerStealth=false
TimerX=SCREEN_WIDTH-30
TimerY=
TimerOnCommand=hide_if,not PREFSMAN:GetPreference("MenuTimer");draworder,99;
TimerOffCommand=
ForceTimer=false

PageX=
PageY=
MoreX=
MoreY=

DisqualifyP1X=SCREEN_LEFT+40
DisqualifyP1Y=SCREEN_HEIGHT-20
DisqualifyP1OnCommand=
DisqualifyP1OffCommand=
DisqualifyP2X=SCREEN_RIGHT-160
DisqualifyP2Y=SCREEN_HEIGHT-20
DisqualifyP2OnCommand=
DisqualifyP2OffCommand=



LineNames="Scroll,7,8,9,10,11,12,13,14,15,GoBack"

LineScroll="list,Scroll"

## add/remove + note types ##
Line7="list,Insert"
Line8="list,Remove"
Line9="list,Holds"
Line10="list,Mines"

## effects ##
Line11="list,Accel"
Line12="list,Effect"
Line13="list,Appearance"
Line14="list,Turn"
Line15="list,Hide"

LineGoBack="lua,ForwardOrBackward2()"






## edit options
[ScreenEditOptions]
LineNames="SpeedType,SpeedNew,NoteSkin,Mini,Perspective,Rate,Assist,ShowBGChangesPlay"
LineSpeedType="lua,SpeedModsType()"
LineSpeedNew="lua,SpeedModsNew()"
LineNoteSkin="list,NoteSkins"
LineMini="list,Mini"
LinePerspective="list,Persp"
LineRate="list,Rate"
LineAssist="list,Assist"
LineShowBGChangesPlay="conf,EditorShowBGChangesPlay"
AllowRepeatingChangeValueInput=true
RepeatRate=20
OptionRowExitMetricsGroup="OptionRowSimpleExit"
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-170) + (32*positionIndex) ); end
NumRowsShown=9



#### Base Options Screen ####
[ScreenOptions]
StopMusicOnBack=false
HelpText=ScreenString("HelpTextOptions")
ShowFooter=true
FooterOnCommand=draworder,-1;

ContainerOnCommand=zoom,1.1;accelerate,0.3;diffusealpha,1;
ContainerOffCommand=accelerate,0.3;diffusealpha,0


RowInitCommand=diffusealpha,0;
RowOnCommand=linear,0.2;diffusealpha,1;draworder,-1
RowOffCommand=linear,0.2;diffusealpha,0
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-180) + (32*positionIndex) ); end
NumRowsShown=11

LineHighlightP1OnCommand=visible,false
LineHighlightP1OffCommand=
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=

LineHighlightP2OnCommand=visible,false
LineHighlightP2OffCommand=
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

ShowOptionIcons=false
SeparateExitRow=false

TweenSeconds=0.1
CursorTweenSeconds=0.1

ExplanationP1X=SCREEN_LEFT+40
ExplanationP1Y=SCREEN_BOTTOM-65
ExplanationP1OnCommand=draworder,1;zoom,0.75;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_CENTER_X*1.5;halign,0;valign,0;cropright,1;linear,0.5;cropright,0
ExplanationP1OffCommand=

ExplanationP2X=WideScale(SCREEN_RIGHT-100,SCREEN_RIGHT-200)
ExplanationP2Y=SCREEN_BOTTOM-65
ExplanationP2OnCommand=draworder,1;zoom,0.75;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_CENTER_X*1.5;halign,1;valign,0;cropright,1;linear,0.5;cropright,0
ExplanationP2OffCommand=

ExplanationTogetherX=SCREEN_LEFT+40
ExplanationTogetherY=SCREEN_CENTER_Y+180
ExplanationTogetherOnCommand=zoom,0.5;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_WIDTH*1.75;halign,0;diffuse,color("#000000");

BulletX=SCREEN_CENTER_X-SCREEN_CENTER_Y
BulletOnCommand=visible,false

ItemsGapX=12
ItemsMinBaseZoom=0.55
ItemsOnCommand=zoom,0.55;
ItemGainFocusCommand=
ItemLoseFocusCommand=

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("0.85,0.85,0.85,1")
CursorOnCommand=zoomx,1.33




[ScreenOptionsSimple]
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-180) + (32*positionIndex) ); end
StopMusicOnBack=false
SeparateExitRow=false
ExplanationTogetherOnCommand=zoom,0.65;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_WIDTH*1.75;diffuse,color("#000000");
#################
OptionRowNormalMetricsGroup="OptionRowSimple"
OptionRowExitMetricsGroup="OptionRowSimpleExit"
CursorOnCommand=visible,false





[ScreenOptionsServiceChild]
StopMusicOnBack=false
ExplanationTogetherY=SCREEN_CENTER_Y+180
ExplanationTogetherOnCommand=zoom,0.575;diffuse,color("0,0,0,1");shadowlength,0;NoStroke;wrapwidthpixels,SCREEN_WIDTH*1.5;diffuse,color("#000000");
ShowCoinsAndCredits=false
OptionRowExitMetricsGroup="OptionRowExit"







[ScreenOptionsService]
Fallback="ScreenOptionsSimple"
PrevScreen="ScreenTitleMenu"
NextScreen="ScreenTitleMenu"

NumRowsShown=10
LineNames="S,KeyConfig,2,3,4,A,5,8,Reload"
LineS="gamecommand;screen,ScreenSelectGame;name,System Options"
LineA="gamecommand;screen,ScreenOptionsArcade;name,Arcade Options"
Line2="gamecommand;screen,ScreenTestInput;name,Test Input"
Line3="gamecommand;screen,ScreenAppearanceOptions;name,Appearance Options"
Line4="gamecommand;screen,ScreenOptionsGraphicsSound;name,Graphics/Sound Options"
Line5="gamecommand;screen,ScreenOptionsAdvanced;name,Advanced Options"
Line8="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"

ExplanationTogetherY=SCREEN_CENTER_Y+180
ShowCoinsAndCredits=false


[ScreenSelectGame]
Fallback="ScreenOptionsServiceChild"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

LineNames="Game,Theme,Language,Announcer,Defaultnoteskin"
LineGame="conf,Game"
LineTheme="conf,Theme"
LineLanguage="conf,Language"
LineAnnouncer="conf,Announcer"
LineDefaultnoteskin="conf,DefaultNoteSkin"

[ScreenAppearanceOptions]
Fallback="ScreenOptionsServiceChild"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

LineNames="Transliterate,Lyrics,BGBrightness,BGMode,BGNum"
LineTransliterate="conf,ShowNativeLanguage"
LineLyrics="conf,ShowLyrics"
LineBGBrightness="conf,BGBrightness"
LineBGMode="conf,RandomBackgroundMode"
LineBGNum="conf,NumBackgrounds"



[ScreenOptionsGraphicsSound]
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenOptionsArcade]
Fallback="ScreenOptionsServiceChild"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

LineNames="Event,Coin,Premium,SongsPerPlay,OptionsNavigation,MenuButtons,WheelSpeed,MenuTimer,TimingWindow,PercentScoreWeight,GradeWeight"
LineEvent="conf,EventMode"
LineCoin="conf,CoinMode"
LinePremium="conf,Premium"
LineSongsPerPlay="conf,SongsPerPlay"
LineOptionsNavigation="conf,ArcadeOptionsNavigation"
LineMenuButtons="conf,OnlyDedicatedMenuButtons"
LineWheelSpeed="conf,MusicWheelSwitchSpeed"
LineMenuTimer="conf,MenuTimer"
LineTimingWindow="lua,TimingWindow()"
LinePercentScoreWeight="lua,PercentScoreWeight()"
LineGradeWeight="lua,GradeWeight()"



[ScreenOptionsAdvanced]
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

LineNames="3,4,8,11,13,15,16,28,29,30"
###############################################
Line3="conf,TimingWindowScale"
Line4="conf,LifeDifficulty"
Line8="lua,GamePrefDefaultFail()"
Line11="conf,AllowW1"
Line13="conf,HiddenSongs"
Line15="conf,AllowExtraStage"
Line16="conf,UseUnlockSystem"
Line28="conf,AutogenSteps"
Line29="conf,AutogenGroupCourses"
Line30="conf,FastLoad"



[ScreenMapControllers]
LabelP1OnCommand=visible,false
LabelP1OffCommand=

LabelP2OnCommand=visible,false
LabelP2OffCommand=

DevicesX=SCREEN_CENTER_X
DevicesY=SCREEN_TOP+25
DevicesOnCommand=zoom,16/24;strokecolor,color("#222222EE");diffusealpha,0;linear,0.5;diffusealpha,1;
DevicesOffCommand=linear,0.5;diffusealpha,0

LineScrollerOnCommand=%function(self) \
	self:visible(false); \
	self:y(42); \
	self:setsecondsperitem(0.05); \
	self:SetTransformFromHeight(24); \
end;

PrimaryOnCommand=x,SCREEN_CENTER_X;y,-6;zoom,16/24;NoStroke
SecondaryOnCommand=x,SCREEN_CENTER_X;y,6;zoom,12/24;NoStroke
MappedToOnCommand=zoom,16/24;diffuse,color("#808080");shadowlength,0;maxwidth,150;NoStroke



[ScreenTestInput]
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false


[ScreenOptionsManageProfiles]
OptionRowNormalMetricsGroup="OptionRowProfile"
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y(SCREEN_CENTER_Y-172+24*offsetFromCenter) \
	if itemIndex ~= 0 and itemIndex ~= numItems - 1 then \
		self:addx(30); \
	end \
end



[OptionRowProfile]
Fallback="OptionRowSimple"
ShowUnderlines=false

ItemsStartX=WideScale(SCREEN_CENTER_X-332,SCREEN_CENTER_X-388)
ItemOnCommand=shadowlength,0;zoom,0.75;y,-1;strokecolor,color("0,0,0,0.35");halign,0
# ColorSelected=color("1,1,1,1")
ColorSelected=GetCurrentColor()
ColorNotSelected=color("0.5,0.5,0.5,1")
ColorDisabled=color("0.1,0.1,0.1,1")





[ScreenSystemDirection]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsSimple"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

LineNames=""


#### MiniMenu stuff ####
[ScreenMiniMenu]
Class="ScreenMiniMenu"
Fallback="ScreenOptionsSimple"
PrevScreen=
TimerSeconds=-1
ShowHelp=false
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y( (SCREEN_CENTER_Y-222) + (30*positionIndex) ); end
OptionRowNormalMetricsGroup="OptionRowMiniMenu"

LineHighlightOnCommand=visible,false
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
CursorOnCommand=visible,false
PageOnCommand=visible,false


ShowExplanations=false
ShowExitRow=false

AllowRepeatingChangeValueInput=true

#### OptionRow #############################################################
[OptionRowMiniMenu]

TitleX=WideScale(SCREEN_LEFT+40,SCREEN_LEFT+48)
TitleOnCommand=zoom,0.8;halign,0;NoStroke
TitleGainFocusCommand=diffuse,PlayerColor(PLAYER_1)
TitleLoseFocusCommand=diffuse,color("#FFFFFF")

FrameX=SCREEN_CENTER_X-WideScale(30,40)
FrameY=0
FrameOnCommand=diffusealpha,0.95
FrameGainFocusCommand=diffuse,color("#293238");diffusealpha,0.95
FrameLoseFocusCommand=diffuse,color("#071016");diffusealpha,0.95

ItemsStartX=WideScale(SCREEN_LEFT+150,SCREEN_LEFT+170)
ItemsEndX=SCREEN_WIDTH-250
ItemsLongRowP1X=WideScale(SCREEN_CENTER_X-100,SCREEN_CENTER_X-130)
ItemsLongRowP2X=WideScale(SCREEN_CENTER_X+100,SCREEN_CENTER_X+100)

ItemOnCommand=zoom,0.75;
ItemGainFocusCommand=
ItemLoseFocusCommand=
ColorDisabled=Color("#000000")
ColorNotSelected=color("#FFFFFF")






### end Options ###

[ScreenSystemLayer]
CreditsP1X=SCREEN_LEFT+12
CreditsP1Y=SCREEN_BOTTOM-16
CreditsP2X=SCREEN_RIGHT-12
CreditsP2Y=SCREEN_BOTTOM-16

MessageX=SCREEN_LEFT+16
MessageY=SCREEN_TOP+16
MessageOnCommand=finishtweening;halign,0;x,SCREEN_LEFT+20;y,SCREEN_TOP+80;zoom,0.5;shadowlength,2;diffusealpha,1
MessageOffCommand=sleep,5;linear,0.5;diffusealpha,0

MessageFrameX=SCREEN_CENTER_X
MessageFrameY=SCREEN_TOP+28
MessageFrameOnCommand=
MessageFrameOffCommand=





[ScreenProfileLoad]
ShowFooter=true
StyleIcon=false
NextScreen=SelectMusicOrCourse()

[ScreenProfileSave]
HeaderOnCommand=visible,false
StyleIcon=false
NextScreen=Branch.AfterProfileSave()
Summary=false





# ScreenSelectStyle handles "dance" and "pump" modes just fine
# as they are limited to the styles: "Single" "Versus" and "Double"
# 
# "techno" mode is a bit more complicated; see [ScreenSelectStyleTechno] below

[ScreenSelectStyle]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen="ScreenSelectColor"

UpdateOnMessage="PlayerJoined"

ShowFooter=true

ChoiceNames="1,2,3"
Choice1="style,single;name,Single;screen,ScreenProfileLoad"
Choice2="style,versus;name,Versus;screen,ScreenProfileLoad"
Choice3="style,double;name,Double;screen,ScreenProfileLoad"
DefaultChoice="1"

ShowScroller=false
ShowIcon=true
LoopScroller=false
WrapScroller=false
UseIconMetrics=true

AllowRepeatingInput=false
ScrollerSecondsPerItem=0
ShowCursor=false
SharedSelection=true
PerChoiceIconElement=false
PerChoiceScrollElement=false

IconChoiceSingleX=SCREEN_CENTER_X-SCREEN_WIDTH/4
IconChoiceSingleY=SCREEN_CENTER_Y
IconChoiceSingleOnCommand=

IconChoiceVersusX=SCREEN_CENTER_X
IconChoiceVersusY=SCREEN_CENTER_Y
IconChoiceVersusOnCommand=

IconChoiceDoubleX=SCREEN_CENTER_X+SCREEN_WIDTH/4
IconChoiceDoubleY=SCREEN_CENTER_Y
IconChoiceDoubleOnCommand=




## ScreenSelectStyle for technomotion playmode
# 
# Valid styles include:
# Single4, Versus4, Double4
# Single5, Versus5, Double5
# Single8, Versus8, Double8
#
# and probably more, but most people will stick to using
# "dance" or "pump" modes for 4- and 5-panel gameplay
#
# so limit choices here to only include 8-panel gameplay
[ScreenSelectStyleTechno]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen="ScreenSelectColor"

ChoiceNames="1,2,3"
Choice1="style,single8;name,Single;screen,ScreenProfileLoad"
Choice2="style,versus8;name,Versus;screen,ScreenProfileLoad"
Choice3="style,double8;name,Double;screen,ScreenProfileLoad"
DefaultChoice="1"

IconChoiceSingleX=SCREEN_CENTER_X-SCREEN_WIDTH/4
IconChoiceSingleY=SCREEN_CENTER_Y
IconChoiceSingleOnCommand=

IconChoiceVersusX=SCREEN_CENTER_X
IconChoiceVersusY=SCREEN_CENTER_Y
IconChoiceVersusOnCommand=

IconChoiceDoubleX=SCREEN_CENTER_X+SCREEN_WIDTH/4
IconChoiceDoubleY=SCREEN_CENTER_Y
IconChoiceDoubleOnCommand=


ShowFooter=true

ShowScroller=false
ShowIcon=true
LoopScroller=false
WrapScroller=false
UseIconMetrics=true

AllowRepeatingInput=false
ScrollerSecondsPerItem=0
ShowCursor=false
SharedSelection=true
PerChoiceIconElement=false
PerChoiceScrollElement=false









[ScreenSelectPlayMode]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()

StyleIcon=false
ShowFooter=true

TimerSeconds=20

ChoiceNames="1,2"
Choice1="playmode,regular;name,Normal;text,Normal;screen,"..Branch.AfterScreenSelectPlayMode()
Choice2="playmode,nonstop;name,Nonstop;text,Nonstop;screen,"..Branch.AfterScreenSelectPlayMode()


DefaultChoice="1"

ShowScroller=false
ShowIcon=true
LoopScroller=false
WrapScroller=false

AllowRepeatingInput=false
ScrollerSecondsPerItem=0
ShowCursor=false
SharedSelection=true
PerChoiceIconElement=false
PerChoiceScrollElement=false

UseIconMetrics=true

IconChoiceNormalX=SCREEN_CENTER_X-SCREEN_WIDTH/5
IconChoiceNormalY=SCREEN_CENTER_Y
IconChoiceNormalOnCommand=

IconChoiceNonstopX=SCREEN_CENTER_X+SCREEN_WIDTH/5
IconChoiceNonstopY=SCREEN_CENTER_Y
IconChoiceNonstopOnCommand=





[MusicWheel]
ShowRoulette=false
ShowPortal=false
ShowRandom=true

# MusicWheel Commands
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(offsetFromCenter * SCREEN_HEIGHT/15); end
NumWheelItems=22
MostPlayedSongsToShow=50

# WheelItem Commands
MusicWheelItemSortOnCommand=zoomy,0;accelerate,0.2;zoomy,1
MusicWheelItemSortOffCommand=decelerate,0.2;zoomy,0

# Highlight Commands
HighlightOnCommand=diffuseshift;effectcolor2,1,1,1,0.15;effectcolor1,1,1,1,0.85;
HighlightOffCommand=decelerate,0.2;diffusealpha,0
HighlightSortOnCommand=accelerate,0.2;zoomy,1;
HighlightSortOffCommand=decelerate,0.2;zoomy,0;



[MusicWheelItem]
SongNameX=-22
SongNameY=0
SongNameOnCommand=shadowlength,0; halign,1;
SongNameSetCommand=diffuse,color("#FFFFFF");

SectionExpandedX=0
SectionExpandedY=0
SectionExpandedOnCommand=maxwidth,WideScale(240,310)

SectionCollapsedX=0
SectionCollapsedY=0
SectionCollapsedOnCommand=maxwidth,WideScale(240,310)


SectionCountX=SCREEN_WIDTH/4-6
SectionCountY=0
SectionCountOnCommand=diffuse,color("#FFFFFF"); shadowlength,0; halign,1; diffusetopedge,color("1,1,1,1");zoom,0.75


RandomX=0
RandomY=0
RandomOnCommand=diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("#88EEFF");effectperiod,10;shadowlength,2

SortX=-130
SortY=2
SortOnCommand=zoom,1.0;maxwidth,400;halign,0;strokecolor,color("0,0,0,0");shadowlength,1

ModeX=-130
ModeY=2
ModeOnCommand=zoom,1.0;maxwidth,400;halign,0;strokecolor,color("0,0,0,0");shadowlength,1


CourseX=0
CourseY=0
CourseOnCommand=shadowlength,0;zoom,1;maxwidth,240;NoStroke







[TextBanner]
TitleOnCommand=shadowlength,1;halign,0;strokecolor,color("0,0,0,0.25");
SubtitleOnCommand=shadowlength,1;halign,0;strokecolor,color("0,0,0,0.25");
ArtistOnCommand=visible,false
AfterSetCommand=%TextBannerAfterSet




[BPMDisplay]
SetNoBpmCommand=diffuse,color("0,0,0,1")
SetNormalCommand=diffuse,color("0,0,0,1")
SetChangeCommand=diffuse,color("0,0,0,1")
SetRandomCommand=diffuse,color("0,0,0,1");settext,"???"
SetExtraCommand=diffuse,color("0,0,0,1")
NoBPMText=""
ShowQMarksInRandomCycle=false



[SongBPMDisplay]
Fallback="BPMDisplay"
SetNormalCommand=diffuse,color("1,1,1,1")
SetChangeCommand=diffuse,color("1,1,1,1")



[DifficultyMeter]
GlowIfMeterGreaterThan=9999 -- never
NumTicks=15
MaxTicks=16
TicksSetCommand=shadowlength,0;halign,0;




[ModIcon]
TextOnCommand=maxwidth,64;shadowlength,1
CropTextToWidth=64

[ModIconRow]
NumModIcons=6
ModIconOnCommand=
SpacingX=47
SpacingY=0
ModIconMetricsGroup="ModIcon"

[ModIconSelectMusic]
Fallback="ModIcon"
TextY=-1
TextOnCommand=shadowlength,1;zoom,0.5;NoStroke;

[ModIconRowSelectMusic]
Fallback="ModIconRow"
SpacingX=47
SpacingY=0
ModIconMetricsGroup="ModIconSelectMusic"





[FadingBanner]
BannerFadeFromCachedCommand=stoptweening;accelerate,0.1;diffusealpha,0
BannerOffCommand=



[ScreenSelectMusic]
PrevScreen=Branch.SSMCancel()
CodeNames="SortList,SortList2"
CodeSortList="@Select-Start"
CodeSortList2=ScreenSelectMusicSortCode2()
UsePlayerSelectMenu=false

# this allows us to override the normal sort select command
ModeMenuAvailable=false
SelectMenuAvailable=false
TimerMetricsGroup="MenuTimer"
TimerSeconds=200

ShowFooter=true
ShowStage=true
SelectMenuChangesDifficulty=true


ShowStepsDisplayList=true
StepsDisplayListX=SCREEN_CENTER_X
StepsDisplayListY=SCREEN_CENTER_Y

SampleMusicLoops=true
SampleMusicFallbackFadeInSeconds=1.5
DoRouletteOnMenuTimer=false


BannerX=0
BannerY=0
BannerOnCommand=scaletoclipped,418,164;visible,false
BannerOffCommand=

CDTitleX=0
CDTitleY=0
CDTitleFrontCommand=
CDTitleBackCommand=visible,false
CDTitleOnCommand=visible,false
CDTitleOffCommand=

# wheel
MusicWheelX=SCREEN_CENTER_X+SCREEN_WIDTH/4-10
MusicWheelY=SCREEN_CENTER_Y
MusicWheelZ=1
MusicWheelOnCommand=zoomx,0;linear,0.1;zoomx,1;
MusicWheelOffCommand=linear,0.2;diffusealpha,0;

# segment display
SegmentDisplayX=0
SegmentDisplayY=0

# score (hidden via metrics; re-implemented via lua)
ScoreFrameP1OnCommand=visible,false
ScoreFrameP2OnCommand=visible,false

ScoreP1X=0
ScoreP1Y=0
ScoreP1OnCommand=visible,false;
ScoreP1OffCommand=

ScoreP2X=
ScoreP2Y=
ScoreP2OnCommand=visible,false;
ScoreP2OffCommand=

ShowHelp=true
HelpText=ScreenString("HelpTextSelectMusic")

MusicWheelCodeMessageCommand=%function(self, params) \
	if not GAMESTATE:IsCourseMode() and (params.Name=="SortList" or params.Name=="SortList2") then \
		SCREENMAN:AddNewScreenToTop("ScreenSortList"); \
	end; \
end;
MusicWheelSortMessageCommand=%function(self, params) \
	self:ChangeSort('SortOrder_'..params.order) \
end;




[ScreenSelectCourse]
Class="ScreenSelectMusic"
Fallback="ScreenSelectMusic"

MusicWheelType="CourseWheel"
Codes="CourseCodeDetector"

HelpText=ScreenString("HelpTextSelectCourse")






[CourseWheel]
Fallback="MusicWheel"



[ScreenSelectCourseNonstop]
Fallback="ScreenSelectCourse"
MusicWheelType="CourseWheel"
Codes="CourseCodeDetector"



# Set sort codes to empty strings
# to override codes declared in _fallback theme.
# Sorting should done via @Select+Start
# as set above in [ScreenSelectMusic]
[CodeDetector]
# PrevSteps1="Up,Up"
# PrevSteps2="@Select-MenuLeft"
# NextSteps1="Down,Down"
# NextSteps2="@Select-MenuRight"
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
CloseCurrentFolder="Up-Down"

# "pad codes" for gameplay modifiers I don't want
Mirror=""
Left=""
Right=""
Shuffle=""
SuperShuffle=""
NextTransform=""
NextScrollSpeed=""
PreviousScrollSpeed=""
NextAccel=""
NextEffect=""
NextAppearance=""
NextTurn=""
Reverse=""
HoldNotes=""
Mines=""
Dark=""
NextGroup=""
PrevGroup=""
Hidden=""
RandomVanish=""

# SaveScreenshot1=""
# SaveScreenshot2=""





[CourseCodeDetector]
Fallback="CodeDetector"



## Stage #######################################################################
[ScreenStageInformation]
TimerSeconds=2


## Gameplay ####################################################################
[ScreenGameplay]
PrevScreen=SelectMusicOrCourse()
NextScreen=Branch.AfterGameplay()

# do as much as we can in overlays here, it's more fantastical
# plus I like it better that way, and some of this stuff gets
# in the way, as far as I'm concerned.
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
#--#	
DifficultyP1OnCommand=visible,false
DifficultyP2OnCommand=visible,false
#--#
StageOnCommand=visible,false
LifeFrameOnCommand=visible,false
StageFrameOnCommand=visible,false
#--#
DifficultyP1OnCommand=visible,false
DifficultyP2OnCommand=visible,false
#--#
SongNumberP1OnCommand=visible,false
SongNumberP2OnCommand=visible,false
#--#
StepsDisplayP1OnCommand=visible,false
StepsDisplayP1SetReverseCommand=visible,false
StepsDisplayP1SetNoReverseCommand=visible,false
#-#
StepsDisplayP2OnCommand=visible,false
StepsDisplayP2SetReverseCommand=visible,false
StepsDisplayP2SetNoReverseCommand=visible,false

LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false

# mods
PlayerOptionsP1X=SCREEN_LEFT+4
PlayerOptionsP1Y=SCREEN_BOTTOM-30
PlayerOptionsP1OnCommand=visible,false

PlayerOptionsP2X=SCREEN_RIGHT-4
PlayerOptionsP2Y=SCREEN_BOTTOM-30
PlayerOptionsP2OnCommand=visible,false

SongOptionsX=SCREEN_CENTER_X+0
SongOptionsY=SCREEN_BOTTOM-11
SongOptionsOnCommand=visible,false
SongOptionsOffCommand=

DebugX=SCREEN_CENTER_X
DebugY=SCREEN_BOTTOM-72
DebugOnCommand=strokecolor,color("#222222EE");zoom,18/24;

CreditsP1X=SCREEN_LEFT+12
CreditsP1Y=SCREEN_BOTTOM-16
CreditsP2X=SCREEN_RIGHT-12
CreditsP2Y=SCREEN_BOTTOM-16

MusicFadeOutSeconds=0.25
OutTransitionLength=5

PlayerInitCommand=y,SCREEN_CENTER_Y
PlayerP1OnCommand=
PlayerP1OffCommand=
PlayerP2OnCommand=
PlayerP2OffCommand=


# THANKS, SUJEET.
PlayerP1OnePlayerOneSideX=SCREEN_CENTER_X-(SCREEN_WIDTH*160/640)
PlayerP2OnePlayerOneSideX=SCREEN_CENTER_X+(SCREEN_WIDTH*160/640)
PlayerP1TwoPlayersTwoSidesX=SCREEN_CENTER_X-(SCREEN_WIDTH*160/640)
PlayerP2TwoPlayersTwoSidesX=SCREEN_CENTER_X+(SCREEN_WIDTH*160/640)
PlayerP1OnePlayerBothSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerBothSidesX=SCREEN_CENTER_X


SurviveTimeX=
SurviveTimeY=




[Combo]
ShowComboAt=4
ShowMissesAt=4
LabelOnCommand=x,0;y,0;shadowlength,1;valign,0;draworder,101;
NumberOnCommand=y,32;shadowlength,1;valign,1;
NumberMaxZoomAt=100





[HoldJudgment]
HoldJudgmentLetGoCommand=diffuse,1,1,1,1;zoom,0.4;linear,0.3;zoom,0.5;sleep,0.5;linear,0;diffuse,1,1,1,0
HoldJudgmentHeldCommand=diffuse,1,1,1,1;zoom,0.4;linear,0.3;zoom,0.5;sleep,0.5;linear,0;diffuse,1,1,1,0



[GraphDisplay]
BodyWidth=300
BodyHeight=60


[GraphDisplay1]
Fallback="GraphDisplay"

[GraphDisplay2]
Fallback="GraphDisplay"

[GraphDisplay3]
Fallback="GraphDisplay"

[GraphDisplay4]
Fallback="GraphDisplay"

[GraphDisplay5]
Fallback="GraphDisplay"

[GraphDisplay6]
Fallback="GraphDisplay"

[GraphDisplay7]
Fallback="GraphDisplay"

[GraphDisplay8]
Fallback="GraphDisplay"

[GraphDisplay9]
Fallback="GraphDisplay"

[GraphDisplay10]
Fallback="GraphDisplay"

[GraphDisplay11]
Fallback="GraphDisplay"

[GraphDisplay12]
Fallback="GraphDisplay"



[ComboGraph]
BodyWidth=300





## Eval ########################################################################
[ScreenEvaluation]
Class="ScreenEvaluation"
Fallback="ScreenWithMenuElements"

# don't show stage number on event mode
ShowStageNumber=not PREFSMAN:GetPreference("EventMode") and true or false

# Don't show these, they don't come back.
ShowBonusArea=false
ShowSurvivedArea=false
ShowWinArea=false
ShowScoreArea=false
ShowTotalScoreArea=false
ShowTimeArea=false
ShowPointsArea=false
ShowGradeArea=false
ShowStatsLabels=false
ShowComboGraph=false
ShowDetailArea=false
ShowGraphDisplay=false

# Don't show these, they're done elsewhere.
ShowSharedJudgmentLineLabels=false
ShowJudgmentLineW1=false
ShowJudgmentLineW2=false
ShowJudgmentLineW3=false
ShowJudgmentLineW4=false
ShowJudgmentLineW5=false
ShowJudgmentLineMiss=false
ShowJudgmentLineHeld=false
ShowJudgmentLineMaxCombo=false
ShowRecordsArea=false

# this is lua too!!
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false



#
LargeBannerX=
LargeBannerY=
LargeBannerOnCommand=visible,false
LargeBannerOffCommand=
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y-142
LargeBannerFrameOnCommand=visible,false
# LargeBannerFrameOnCommand=diffusealpha,0;linear,0.2;diffusealpha,1;;draworder,99
LargeBannerFrameOffCommand=

# danford :argh:
BannerWidth=334
BannerHeight=132

DisqualifiedP1X=SCREEN_CENTER_X*0.45
DisqualifiedP1Y=SCREEN_CENTER_Y*0.25

DisqualifiedP2X=SCREEN_CENTER_X*1.55
DisqualifiedP2Y=SCREEN_CENTER_Y*0.25

# not shown
SurvivedFrameP1X=
SurvivedFrameP1Y=
SurvivedFrameP1OnCommand=visible,false
SurvivedFrameP1OffCommand=
SurvivedFrameP2X=
SurvivedFrameP2Y=
SurvivedFrameP2OnCommand=visible,false
SurvivedFrameP2OffCommand=

# done in lua
SurvivedNumberP1X=
SurvivedNumberP1Y=
SurvivedNumberP1OnCommand=visible,false
SurvivedNumberP1OffCommand=
SurvivedNumberP2X=
SurvivedNumberP2Y=
SurvivedNumberP2OnCommand=visible,false
SurvivedNumberP2OffCommand=

[ScreenEvaluationStage]
Fallback="ScreenEvaluation"
NextScreen=ScreenEvalNextScreen()
ShowHeader=true

# this is here for security.
ShowBonusArea=false
ShowSurvivedArea=false
ShowWinArea=false
ShowScoreArea=false
ShowTotalScoreArea=false
ShowTimeArea=false
ShowPointsArea=false
ShowGradeArea=false
ShowStatsLabels=false
ShowMaxCombo=false
ShowDetailArea=false

PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false

[ScreenEvaluationNonstop]
Fallback="ScreenEvaluation"
NextScreen=ScreenEvalNextScreen()

# overrides
# don't show stage number on event mode.nofoolin.exe
ShowStage=not PREFSMAN:GetPreference("EventMode") and true or false

ShowBonusArea=false
ShowWinArea=false
ShowScoreArea=false
ShowTotalScoreArea=false
ShowTimeArea=false
ShowPointsArea=false
ShowGradeArea=false
ShowStatsLabels=false
ShowMaxCombo=false

PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false

# hack hack hack hack hack
ShowSurvivedArea=true
SurvivedFrameP1OnCommand=visible,false
SurvivedFrameP2OnCommand=visible,false
SurvivedNumberP1OnCommand=visible,false
SurvivedNumberP2OnCommand=visible,false



################################################################################
# summary #

[ScreenEvaluationSummary]
Fallback="ScreenEvaluation"
NextScreen="ScreenNameEntryTraditional"

# when true, this metric appears to sum all of the player's Window types together
# for exmaple, all W1 values are summed, all W2 values are summed, etc.
Summary=false
HeaderOnCommand=visible,false

ShowJudgmentLineW1=false
ShowJudgmentLineW2=false
ShowJudgmentLineW3=false
ShowJudgmentLineW4=false
ShowJudgmentLineW5=false
ShowJudgmentLineMiss=false
ShowJudgmentLineHeld=false
ShowJudgmentLineMaxCombo=false
ShowRecordsArea=false

CodeNames="MenuLeft,MenuRight,MenuUp,MenuDown,Left,Right,Up,Down"
CodeMenuLeft="MenuLeft"
CodeMenuRight="MenuRight"
CodeMenuUp="MenuUp"
CodeMenuDown="MenuDown"
CodeLeft="Left"
CodeRight="Right"
CodeUp="Up"
CodeDown="Down"



[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"
NextScreen="ScreenGameOver"
PrevScreen="ScreenGameOver"

[ScreenGameOver]
Class="ScreenAttract"
Fallback="ScreenAttract"
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.TitleMenu()
StartScreen=Branch.TitleMenu()
TimerSeconds=30
ForceTimer=true
TimerOnCommand=visible,false
PlayMusic=true


[RollingNumbersEvaluation]
Fallback="RollingNumbers"
Commify=false
ApproachSeconds=1
LeadingZeroMultiplyColor=color("#00000000")



# For now, I'm choosing to forgo this screen.
## edit ########################################################################
[ScreenOptionsEdit]
Fallback="ScreenOptionsSimple"
LineNames="1,2"
Line1="gamecommand;screen,ScreenEditMenu;name,Edit Songs/Steps"
Line2="gamecommand;screen,ScreenOptionsExportPackage;name,Export Packages"
# course editor is beyond broken
#Line3="gamecommand;screen,ScreenOptionsManageCourses;name,Edit Courses"
# these didn't work back when I had modified the list... have things changed?
Line4="gamecommand;screen,ScreenServiceActionCopyEditsMachineToMemoryCard;name,Transfer Edits to USB"
Line5="gamecommand;screen,ScreenOptionsGraphicsSound;name,Transfer Edits from USB"
Line6="gamecommand;screen,ScreenOptionsAdvanced;name,Clear USB edits"
## edit ########################################################################







[EditMenu]
Arrows1X=WideScale(SCREEN_CENTER_X-160,SCREEN_CENTER_X-180)
Arrows2X=WideScale(SCREEN_CENTER_X+250,SCREEN_CENTER_X+280)
ArrowsEnabledCommand=%function(self)  self:diffuse(color("1,1,1,1")); self:zoom(WideScale(0.7,0.75)); MESSAGEMAN:Broadcast("EditMenuChange") end
ArrowsDisabledCommand=%function(self) self:diffuse(color("1,1,1,0.2")); self:zoom(WideScale(0.7,0.75)); MESSAGEMAN:Broadcast("EditMenuChange") end

GroupBannerX=SCREEN_CENTER_X+166
GroupBannerY=SCREEN_CENTER_Y-154.5
GroupBannerWidth=128
GroupBannerHeight=40

SongBannerX=SCREEN_CENTER_X+166
SongBannerY=SCREEN_CENTER_Y-110
SongBannerWidth=128
SongBannerHeight=40

SongTextBannerX=SCREEN_CENTER_X - WideScale(45,30)
SongTextBannerY=SCREEN_CENTER_Y-111

StepsDisplayX=SCREEN_CENTER_X+170
StepsDisplayY=SCREEN_CENTER_Y-21

StepsDisplaySourceX=SCREEN_CENTER_X+170
StepsDisplaySourceY=SCREEN_CENTER_Y+69

Label1OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)
Label2OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)
Label3OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)
Label4OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)
Label5OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)
Label6OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)
Label7OnCommand=shadowlength,1;NoStroke;zoom,0.8;x,SCREEN_CENTER_X-WideScale(240,320)


# group
Value1X=SCREEN_CENTER_X-130
Value1OnCommand=shadowlength,1;NoStroke;zoom,0.8;halign,0

# song
Value2OnCommand=shadowlength,1;NoStroke;zoom,0.7;halign,0

# type
Value3X=SCREEN_CENTER_X-130
Value3OnCommand=shadowlength,1;NoStroke;zoom,0.8;halign,0

# steps
Value4X=SCREEN_CENTER_X-130
Value4OnCommand=shadowlength,1;NoStroke;zoom,0.8;halign,0

# fill type
Value5X=SCREEN_CENTER_X-130
Value5OnCommand=shadowlength,1;NoStroke;zoom,0.8;halign,0

# fill steps
Value6X=SCREEN_CENTER_X-130
Value6OnCommand=shadowlength,1;NoStroke;zoom,0.8;halign,0

# action
Value7X=SCREEN_CENTER_X-130
Value7OnCommand=shadowlength,1;NoStroke;zoom,0.8;halign,0

# rows are hardcoded to be 45px tall
Row1Y=SCREEN_CENTER_Y-154
Row2Y=SCREEN_CENTER_Y-111
Row3Y=SCREEN_CENTER_Y-66
Row4Y=SCREEN_CENTER_Y-21
Row5Y=SCREEN_CENTER_Y+24
Row6Y=SCREEN_CENTER_Y+69
Row7Y=SCREEN_CENTER_Y+114





[ScreenEdit]
EditHelpX=SCREEN_LEFT+8
EditHelpY=SCREEN_TOP+36
EditHelpOnCommand=halign,0;valign,0;zoom,0.5;shadowlength,1;strokecolor,color("#222222EE")
InfoX=SCREEN_RIGHT-150
InfoY=SCREEN_TOP+36
InfoOnCommand=halign,0;valign,0;zoom,0.6;shadowlength,1;strokecolor,color("#222222EE")
ShowCoinsAndCredits=false

CurrentBeatFormat="%s:  %.3f\n"
CurrentSecondFormat="%s:  %.3f\n"
SnapToFormat="%s: %s\n"
SelectionBeatBeginFormat="%s:  %.3f"
SelectionBeatUnfinishedFormat=" ...\n"
SelectionBeatEndFormat="-%.3f\n"
DifficultyFormat="%s:  %s\n\n"

RoutinePlayerFormat="%s: %d\n"
DescriptionFormat="%s:  %s\n"
ChartNameFormat="%s:\n  %s\n"
StepAuthorFormat="%s:\n  %s\n"
ChartStyleFormat="%s:  %s\n"
MainTitleFormat="%s:\n  %s\n\n"
SubtitleFormat="%s:  %s\n"


SegmentTypeFormat="%s: %s\n"
TapNoteTypeFormat="%s: %s\n"



NumStepsFormat="\n%s: %d\n"
NumJumpsFormat="%s: %d\n"
NumHoldsFormat="%s: %d\n"
NumMinesFormat="%s: %d\n"
NumHandsFormat="%s: %d\n"
NumRollsFormat="%s: %d\n"
NumLiftsFormat="%s: %d\n"
NumFakesFormat="%s: %d\n"

NumStepsFormatTwoPlayer="%s: %d/%d\n"
NumJumpsFormatTwoPlayer="%s: %d/%d\n"
NumHoldsFormatTwoPlayer="%s: %d/%d\n"
NumMinesFormatTwoPlayer="%s: %d/%d\n"
NumHandsFormatTwoPlayer="%s: %d/%d\n"
NumRollsFormatTwoPlayer="%s: %d/%d\n"
NumLiftsFormatTwoPlayer="%s: %d/%d\n"
NumFakesFormatTwoPlayer="%s: %d/%d\n"

TimingModeFormat="\n%s: %s\n"
Beat0OffsetFormat="%s: %.3f secs\n"
PreviewStartFormat="%s: %.3f secs\n"
PreviewLengthFormat="%s: %.3f secs\n"




[ScreenEditMenu]
PrevScreen="ScreenTitleMenu"
StopMusicOnBack=false
ExplanationY=SCREEN_BOTTOM-80
ExplanationOnCommand=wrapwidthpixels,(SCREEN_WIDTH*0.8)*1.25;shadowlength,1;zoom,0.75;NoStroke;
ExplanationOffCommand=diffusealpha,0
ShowCoinsAndCredits=false








## package export
[ScreenOptionsExportPackage]
Fallback="ScreenOptionsSimple"
NumRowsShown=13
OptionRowNormalMetricsGroup="OptionRowPackage"

[ScreenOptionsExportPackageSubPage]
Class="ScreenOptionsExportPackageSubPage"
Fallback="ScreenOptionsSimple"
NumRowsShown=13
OptionRowNormalMetricsGroup="OptionRowPackage"

[OptionRowPackage]
Fallback="OptionRowSimple"
ShowUnderlines=false






# CustomDifficulty is an annoyance.
[CustomDifficulty]
Names=""
1StepsType=StepsType_pump_single
1CourseType=nil
1Difficulty=Difficulty_Hard
1String="Crazy"

2StepsType=StepsType_pump_halfdouble
2CourseType=nil
2Difficulty=Difficulty_Medium
2String="Half-Double"

[StepsDisplayList]
ItemsSpacingY=4
NumShownItems=5
CapitalizeDifficultyNames=false
MoveCommand=

CursorP1OnCommand=bounce;effectperiod,1.0;effectoffset,0.2;effectclock,"beat"
CursorP1OffCommand=
CursorP1TweenOnCommand=linear,0.5;diffusealpha,1
CursorP1ChangeCommand=finishtweening;decelerate,0.15
CursorP2OnCommand=
CursorP2OffCommand=
CursorP2TweenOnCommand=linear,0.5;diffusealpha,1
CursorP2ChangeCommand=finishtweening;decelerate,0.15
CursorP1ShowCommand=sleep,.3;linear,.3;diffusealpha,1
CursorP2ShowCommand=sleep,.3;linear,.3;diffusealpha,1
CursorP1HideCommand=linear,.3;diffusealpha,0
CursorP2HideCommand=linear,.3;diffusealpha,0


[StepsDisplay]
# this seems to effect ScreenEditMenu
ShowMeter=true
MeterSetCommand=%function(self, param) MESSAGEMAN:Broadcast("MeterSet") end;
ShowDescription=false
CursorP1OnCommand=


[StepsDisplayList]
ItemsSpacingY=18.1
NumShownItems=5
CapitalizeDifficultyNames=true
MoveCommand=finishtweening;linear,.3


[StepsDisplayListRow]
ShowDescription=false
ShowMeter=true
MeterOnCommand=zoom,0.3;halign,1
MeterX=-SCREEN_WIDTH/WideScale(2.43, 2.74)
MeterY=34
MeterSetCommand=%function(self,param) \
end

ShowTicks=true
NumTicks=20
MaxTicks=20
TicksX=-SCREEN_CENTER_X+SCREEN_WIDTH/WideScale(3.65,3.32)
TicksY=34
TicksOnCommand=
TicksSetCommand=%function(self,param) \
end



[CatalogXml]
ShowStyleDouble4=false

[NoteField]
ShowBoard=true


[ScreenHighScores]
NextScreen="ScreenTitleMenu"
TimerSeconds=1





[ScreenPrompt]
QuestionX=SCREEN_CENTER_X
QuestionY=SCREEN_CENTER_Y-60
QuestionOnCommand=zoom,0.7;wrapwidthpixels,600;strokecolor,color("0,0,0,0")
QuestionOffCommand=

CursorOnCommand=
CursorOffCommand=

[ScreenTextEntry]
QuestionX=SCREEN_CENTER_X
QuestionY=SCREEN_CENTER_Y-64
QuestionOnCommand=zoom,0.75;shadowlength,1;shadowcolor,color("0,0,0,0.45");wrapwidthpixels,SCREEN_WIDTH*0.925;strokecolor,color("0,0,0,0")

AnswerX=SCREEN_CENTER_X
AnswerY=SCREEN_CENTER_Y+16
AnswerOnCommand=zoom,0.95;shadowlength,0;strokecolor,color("0,0,0,0")
AnswerOffCommand=
######################################


[ScoreKeeperNormal]
PercentScoreWeightHeld=SLPercentScoreWeight("Held")
PercentScoreWeightHitMine=SLPercentScoreWeight("HitMine")
PercentScoreWeightLetGo=SLPercentScoreWeight("LetGo")
PercentScoreWeightMiss=SLPercentScoreWeight("Miss")
PercentScoreWeightW1=SLPercentScoreWeight("W1")
PercentScoreWeightW2=SLPercentScoreWeight("W2")
PercentScoreWeightW3=SLPercentScoreWeight("W3")
PercentScoreWeightW4=SLPercentScoreWeight("W4")
PercentScoreWeightW5=SLPercentScoreWeight("W5")

GradeWeightHeld=SLGradeWeight("Held")
GradeWeightHitMine=SLGradeWeight("HitMine")
GradeWeightLetGo=SLGradeWeight("LetGo")
GradeWeightMiss=SLGradeWeight("Miss")
GradeWeightW1=SLGradeWeight("W1")
GradeWeightW2=SLGradeWeight("W2")
GradeWeightW3=SLGradeWeight("W3")
GradeWeightW4=SLGradeWeight("W4")
GradeWeightW5=SLGradeWeight("W5")



[ScreenSortList]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenSelectMusic"
PrevScreen="ScreenSelectMusic"
#
ChoiceNames="Group,Title,Artist,Genre"
DefaultChoice="Group"
#
ChoiceGroup="name,Group;lua,function(pn) MESSAGEMAN:Broadcast('Sort',{order='Group'}) end;screen,ScreenSelectMusic; text,Group;"
ChoiceTitle="name,Title;lua,function(pn) MESSAGEMAN:Broadcast('Sort',{order='Title'}) end;screen,ScreenSelectMusic; text,Title;"
ChoiceArtist="name,Artist;lua,function(pn) MESSAGEMAN:Broadcast('Sort',{order='Artist'}) end;screen,ScreenSelectMusic; text,Artist;"
ChoiceGenre="name,Genre;lua,function(pn) MESSAGEMAN:Broadcast('Sort',{order='Genre'}) end;screen,ScreenSelectMusic; text,Genre;"

#
PerChoiceScrollElement=false
#
# This supports 4 items in the list; for more, increase it to 2n-1.
ScrollerNumItemsToDraw=7
ShowIcon=false
ShowScroller=true
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(28*(itemIndex-(numItems-1)/2)); end;
WrapCursor=true
#
# Since this screen is displayed on top of one which is already playing music,
# it shouldn't try to play any music of its own.
PlayMusic=false
# Use the same transition (none) for backing out of the menu as we do for
# selecting an option.
CancelTransitionsOut=true